---
interface Project {
  id: string;
  data: {
    title: string;
    description: string;
    tags: string[];
    github?: string;
    url?: string;
  };
}

interface Props {
  projects: Project[];
}

const { projects } = Astro.props;
---

<ul class="project-list">
  {
    projects.map((project) => (
      <li class="project-item">
        <div class="project-header">
          <span class="project-arrow">&rarr;</span>
          <a
            href={project.data.url || project.data.github || "#"}
            class="project-title"
            target="_blank"
            rel="noopener"
          >
            {project.data.title}
          </a>
          {project.data.github && (
            <a
              href={project.data.github}
              class="project-gh"
              target="_blank"
              rel="noopener"
              title="GitHub"
            >
              src
            </a>
          )}
        </div>
        <p class="project-desc">{project.data.description}</p>
        {project.data.tags.length > 0 && (
          <div class="project-tags">
            {project.data.tags.map((tag) => (
              <span class="tag">{tag}</span>
            ))}
          </div>
        )}
      </li>
    ))
  }
</ul>

<style>
  .project-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .project-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .project-arrow {
    color: var(--accent);
    flex-shrink: 0;
  }

  .project-title {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--text);
    text-decoration: none;
  }

  .project-title:hover {
    color: var(--accent);
  }

  .project-gh {
    font-size: 0.75rem;
    color: var(--text-muted);
    text-decoration: none;
    border: 1px solid var(--border);
    padding: 0.1rem 0.4rem;
    border-radius: 3px;
  }

  .project-gh:hover {
    color: var(--accent);
    border-color: var(--accent);
  }

  .project-desc {
    color: var(--text-muted);
    font-size: 0.8rem;
    margin-top: 0.25rem;
    padding-left: 1.35rem;
  }

  .project-tags {
    display: flex;
    gap: 0.4rem;
    margin-top: 0.35rem;
    padding-left: 1.35rem;
    flex-wrap: wrap;
  }

  .tag {
    font-size: 0.7rem;
    color: var(--accent);
    background: transparent;
    padding: 0.1rem 0;
  }

  .tag::before {
    content: "#";
    opacity: 0.6;
  }
</style>
